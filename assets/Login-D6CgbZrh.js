import{M as q,r as s,j as e,a as U,F as x,W as v,l as I}from"./index-DUYrlZui.js";import{W as G}from"./wex-checkbox-h8bMHzwm.js";import{w as j}from"./wex-toast-Du3Hfd1Z.js";import{E as K}from"./eye-off-BJA7hItY.js";import{E as Q}from"./eye-BMREQ8_8.js";import{C as P}from"./circle-alert-DHUFkwQp.js";import{M as Z}from"./mail-flYc01Rc.js";import{M as ee}from"./message-square-DPzwUpiM.js";function ce({onLoginSuccess:T}){const{login:X}=q(),_="/CXR-UX/WEX_Logo_Red_Vector.svg",u="/CXR-UX/login-bg.svg",[a,c]=s.useState(1),[r,y]=s.useState(""),[w,D]=s.useState(""),[m,W]=s.useState(!1),[N,h]=s.useState(!1),[S,p]=s.useState(""),[o,g]=s.useState(13),[O,f]=s.useState(""),[k,i]=s.useState(!1),[C,E]=s.useState(!1),[b,R]=s.useState("email");s.useEffect(()=>{fetch("http://127.0.0.1:7242/ingest/0f2d92c4-4c76-48a6-a34a-0a7a7699a103",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:"debug-session",runId:"pre-fix",hypothesisId:"H1",location:"Login.tsx:initial",message:"Login background asset resolved",data:{loginBg:u,baseUrl:"/CXR-UX/",windowPath:typeof window<"u"?window.location.pathname:"no-window"},timestamp:Date.now()})}).catch(()=>{})},[]),s.useEffect(()=>{const t="pre-fix",n=u;fetch(n,{method:"HEAD"}).then(l=>{fetch("http://127.0.0.1:7242/ingest/0f2d92c4-4c76-48a6-a34a-0a7a7699a103",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:"debug-session",runId:t,hypothesisId:"H1",location:"Login.tsx:head-check",message:"HEAD check for login background",data:{targetUrl:n,status:l.status,resolvedUrl:l.url},timestamp:Date.now()})}).catch(()=>{})}).catch(l=>{fetch("http://127.0.0.1:7242/ingest/0f2d92c4-4c76-48a6-a34a-0a7a7699a103",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:"debug-session",runId:t,hypothesisId:"H1",location:"Login.tsx:head-check",message:"HEAD check failed",data:{targetUrl:n,error:String(l)},timestamp:Date.now()})}).catch(()=>{})});const d=new Image;d.onload=()=>{fetch("http://127.0.0.1:7242/ingest/0f2d92c4-4c76-48a6-a34a-0a7a7699a103",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:"debug-session",runId:t,hypothesisId:"H1",location:"Login.tsx:image-load",message:"Background image load success",data:{targetUrl:n},timestamp:Date.now()})}).catch(()=>{})},d.onerror=()=>{fetch("http://127.0.0.1:7242/ingest/0f2d92c4-4c76-48a6-a34a-0a7a7699a103",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:"debug-session",runId:t,hypothesisId:"H1",location:"Login.tsx:image-load",message:"Background image load failed",data:{targetUrl:n},timestamp:Date.now()})}).catch(()=>{})},d.src=n},[]),s.useEffect(()=>{if(a===3){const t=Math.floor(1e4+Math.random()*9e4).toString();f(t),i(!1),p(""),j(`Your MFA code is: ${t}`,{duration:3e4,position:"top-right"})}},[a]),s.useEffect(()=>{if(a===3&&o>0){const t=setTimeout(()=>g(o-1),1e3);return()=>clearTimeout(t)}},[a,o]),s.useEffect(()=>{const t=localStorage.getItem("wex_saved_username");t&&(y(t),E(!0))},[]);const A=t=>{t.preventDefault(),r.trim()&&(C&&localStorage.setItem("wex_saved_username",r.trim()),c(2))},H=t=>{if(t.preventDefault(),!(r.trim()==="ux@wex.com"&&w.trim()==="UXprototype123!")){h(!0);return}h(!1),c(3)},L=t=>{t.preventDefault(),S.trim()===O?(i(!1),X(),T()):i(!0)},F=()=>{if(o===0){const t=Math.floor(1e4+Math.random()*9e4).toString();f(t),i(!1),p(""),g(13),j(`Your new MFA code is: ${t}`,{duration:3e4,position:"top-right"})}},B=()=>{c(1)},$=t=>{E(t),t||localStorage.removeItem("wex_saved_username")},z=()=>{c(4)},M=t=>{R(t);const n=Math.floor(1e4+Math.random()*9e4).toString();f(n),i(!1),p(""),g(13),j(`Your MFA code is: ${n}`,{duration:3e4,position:"top-right"}),c(3)},J=t=>{if(t.includes("@")){const[n,d]=t.split("@"),l=n.substring(0,4)+"******",Y=d.substring(0,5)+"*****";return`${l}@${Y}`}else return t.substring(0,3)+"******"+t.slice(-2)},V=()=>"XXXXXX8789";return e.jsx("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundImage:`url(${u})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#f0f4f8"},children:e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:e.jsx(U,{className:"w-full max-w-[402px] shadow-[0px_8px_16px_0px_rgba(2,13,36,0.15),0px_0px_1px_0px_rgba(2,13,36,0.3)] border-0",children:e.jsx(U.Content,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-6 items-center",children:[e.jsx("div",{className:"w-[150px] h-[50px]",children:e.jsx("img",{src:_,alt:"WEX",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex flex-col gap-2 items-center text-center",children:[e.jsx("h1",{className:"text-[18px] font-semibold leading-6 tracking-[-0.252px] text-foreground",children:a===1?"Welcome":a===2?"Enter your password":a===3?"Verify your identity":"Keep your account safe"}),e.jsx("p",{className:"text-[16px] font-normal leading-6 tracking-[-0.176px] text-foreground max-w-[328px]",children:a===1?"Please enter your username to log into WEX Health & Benefits":a===2?"Please enter your password to log into WEX Health & Benefits":a===3?b==="sms"?"We've sent a text message to":"We've sent an email with your code to":"Select an authentication method"})]})]}),a===1&&e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:A,className:"flex flex-col gap-6",children:[e.jsx(x,{label:"Username",type:"text",value:r,onChange:t=>y(t.target.value),size:"lg",className:"text-[16px] leading-6 tracking-[-0.176px]"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{id:"save-username",checked:C,onCheckedChange:t=>$(t)}),e.jsx("label",{htmlFor:"save-username",className:"text-[16px] font-normal leading-6 tracking-[-0.176px] text-foreground cursor-pointer",children:"Save Username"})]}),e.jsx("button",{type:"button",className:"text-[16px] font-normal leading-6 tracking-[-0.176px] text-[hsl(var(--wex-primary))] hover:underline",children:"Forgot Username"})]}),e.jsx(v,{type:"submit",intent:"primary",className:"w-full h-10 rounded-lg text-[14px] font-medium leading-6 tracking-[-0.084px]",children:"Continue"})]}),e.jsxs("div",{className:"flex gap-2 items-center justify-start text-[16px] leading-6 tracking-[-0.176px]",children:[e.jsx("p",{className:"text-muted-foreground",children:"Don't have an account?"}),e.jsx("button",{type:"button",className:"text-[hsl(var(--wex-primary))] hover:underline cursor-pointer font-normal",children:"Register"})]})]}),a===2&&e.jsxs("form",{onSubmit:H,className:"flex flex-col gap-[21px]",children:[e.jsxs("div",{className:"relative",children:[e.jsx(x,{label:"Username",type:"text",value:r,readOnly:!0,size:"lg",className:"text-[16px] leading-6 tracking-[-0.176px] pr-16 cursor-default"}),e.jsx("button",{type:"button",onClick:B,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[14px] text-[hsl(var(--wex-primary))] hover:underline",children:"Edit"})]}),e.jsxs("div",{className:"flex flex-col gap-[30px]",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(x,{label:"Password",type:m?"text":"password",value:w,onChange:t=>{D(t.target.value),h(!1)},size:"lg",invalid:N,className:"text-[16px] leading-6 tracking-[-0.176px]",rightIcon:e.jsx("button",{type:"button",onClick:()=>W(!m),className:"cursor-pointer hover:text-foreground transition-colors pointer-events-auto","aria-label":m?"Hide password":"Show password",children:m?e.jsx(K,{className:"h-4 w-4"}):e.jsx(Q,{className:"h-4 w-4"})})}),N&&e.jsxs("p",{className:"text-[12px] text-[hsl(var(--wex-destructive))] px-3 flex items-center gap-1",children:[e.jsx(P,{className:"h-3 w-3"}),"Invalid username or password"]})]}),e.jsx("button",{type:"button",className:"text-[16px] text-[hsl(var(--wex-primary))] hover:underline text-left tracking-[-0.176px]",children:"Forgot password"})]}),e.jsx(v,{type:"submit",intent:"primary",className:"w-full h-10 rounded-lg text-[14px] font-medium leading-6 tracking-[-0.084px]",children:"Continue"})]}),a===3&&e.jsxs("form",{onSubmit:L,className:"flex flex-col gap-[21px]",children:[e.jsx(x,{label:b==="sms"?"Mobile number":"Email",type:"text",value:b==="sms"?V():J(r),readOnly:!0,size:"lg",className:"text-[16px] leading-6 tracking-[-0.176px] cursor-default"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(x,{label:"Enter the code",type:"text",value:S,onChange:t=>{p(t.target.value),i(!1)},size:"lg",invalid:k,className:"text-[16px] leading-6 tracking-[-0.176px]"}),k&&e.jsxs("p",{className:"text-[12px] text-[hsl(var(--wex-destructive))] px-3 flex items-center gap-1",children:[e.jsx(P,{className:"h-3 w-3"}),"The code you entered is invalid"]})]}),e.jsx(v,{type:"submit",intent:"primary",className:"w-full h-10 rounded-lg text-[14px] font-medium leading-6 tracking-[-0.084px]",children:"Continue"}),e.jsxs("p",{className:"text-[16px] leading-6 tracking-[-0.176px] text-foreground",children:["Didn't receive an email?"," ",o>0?e.jsxs("span",{className:"font-semibold",children:["Send again in 00:",o.toString().padStart(2,"0")]}):e.jsx("button",{type:"button",onClick:F,className:"font-semibold text-[hsl(var(--wex-primary))] hover:underline",children:"Send again"})]}),e.jsx("button",{type:"button",onClick:z,className:"text-[16px] font-semibold leading-6 tracking-[-0.176px] text-[hsl(var(--wex-primary))] hover:underline text-left",children:"Try another method"})]}),a===4&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{type:"button",onClick:()=>M("email"),className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:border-[hsl(var(--wex-primary))] hover:bg-accent transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"h-5 w-5 text-foreground"}),e.jsx("span",{className:"text-[16px] font-normal leading-6 tracking-[-0.176px] text-foreground",children:"Email Address"})]}),e.jsx(I,{className:"h-5 w-5 text-muted-foreground"})]})}),e.jsx("button",{type:"button",onClick:()=>M("sms"),className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:border-[hsl(var(--wex-primary))] hover:bg-accent transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"h-5 w-5 text-foreground"}),e.jsx("span",{className:"text-[16px] font-normal leading-6 tracking-[-0.176px] text-foreground",children:"SMS"})]}),e.jsx(I,{className:"h-5 w-5 text-muted-foreground"})]})})]})]})})})}),e.jsx("footer",{className:"bg-[hsl(var(--wex-primary-hover))] w-full py-[13px] px-[131px]",children:e.jsxs("div",{className:"flex flex-col gap-[14px] items-center",children:[e.jsxs("div",{className:"flex gap-8 items-start text-[11px] font-semibold leading-4 tracking-[0.055px] text-white",children:[e.jsx("button",{className:"underline decoration-solid underline-offset-2 hover:no-underline",children:"Browser Requirements"}),e.jsx("button",{className:"underline decoration-solid underline-offset-2 hover:no-underline",children:"Contact Us"}),e.jsx("button",{className:"underline decoration-solid underline-offset-2 hover:no-underline",children:"Privacy Policy"}),e.jsx("button",{className:"underline decoration-solid underline-offset-2 hover:no-underline",children:"Accessibility Statement"})]}),e.jsx("div",{className:"flex gap-[42px] items-start",children:e.jsx("p",{className:"text-[11px] font-normal leading-4 tracking-[0.055px] text-white text-center",children:"Copyright 2005-2024. Powered by [Company name], a WEX Inc. Proprietary Web Product. All Rights Reserved."})})]})})]})})}export{ce as default};
