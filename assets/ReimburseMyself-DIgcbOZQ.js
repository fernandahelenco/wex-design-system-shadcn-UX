import{s as Z,K as _,r as i,j as e,t as s,a as c,W as u,g as j,o as n,X as ee,q as v,F as T}from"./index-Cn8sFiMG.js";import{C as se}from"./ConsumerNavigation-Dw1FkqcY.js";import{W as x}from"./wex-label-Br4qcjgN.js";import{W as S}from"./wex-separator-rZ-QXdPD.js";import{W as te}from"./wex-spinner-YC3IvWtl.js";import{S as ae}from"./sparkles-CPg2izD7.js";import{I as f}from"./info-BFOQ1q3u.js";import{C as w}from"./circle-check-BRdmNJvW.js";import{U as re}from"./upload-Bzz8bRq4.js";import{F as z}from"./file-text-WgZu9Fug.js";import{C as ne,S as le}from"./shield-check-BJMUmZ5p.js";import{W as ie}from"./wallet-BdJ7G8UZ.js";import"./receipt-CagqN-CF.js";import"./palette-CAKAftfU.js";import"./user-C7YEgTyl.js";function Ce(){const F=Z(),{state:h,updateState:N}=_(),[W,k]=i.useState(!1),[P,B]=i.useState(!1),[V,U]=i.useState(h.variant||"mvp"),[g,R]=i.useState(null),[A,E]=i.useState(!1),[q,y]=i.useState(!1),[D,$]=i.useState(!1),[I,M]=i.useState(!1),[L,b]=i.useState(new Set),r={account:h.account||"",category:h.category||"",provider:h.provider||"",serviceDate:h.serviceDate||"",amount:h.amount||"",paymentMethod:h.paymentMethod||"direct-deposit"},O=i.useMemo(()=>Number.parseFloat(r.amount||"0").toLocaleString("en-US",{style:"currency",currency:"USD"}),[r.amount]),G=a=>{a.preventDefault(),k(!0),setTimeout(()=>{k(!1),B(!0)},700)},d=(a,o)=>{N({[a]:o}),b(l=>{if(l.has(a)){const m=new Set(l);return m.delete(a),m}return l})},H=a=>{const o={name:a.name,size:`${(a.size/1024).toFixed(0)} KB`};R(o),E(!0),y(!1),M(!1),setTimeout(()=>{N({provider:"Dr. Jorge Doe",serviceDate:"2025-06-20",amount:"150.00",category:"medical",account:"healthcare-fsa"}),b(new Set(["provider","serviceDate","amount","category","account"])),E(!1),y(!0),setTimeout(()=>y(!1),3e3)},2500)},J=()=>{M(!0),b(new Set)},K=()=>{R(null),y(!1),b(new Set),M(!1)},X=a=>a==="dependent-care-fsa"?"Dependent Care FSA":a==="healthcare-fsa"?"Healthcare FSA":a==="medical-fsa"?"Medical FSA":a==="hsa"?"HSA":"—",Y=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Reimburse Myself"})}),e.jsx(c,{children:e.jsxs(c.Content,{className:"space-y-8 p-6 md:p-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Available Balance"}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:["Medical FSA",e.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("p",{className:"text-xl font-semibold text-foreground",children:"$2,734.76"})]})]}),e.jsx(S,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Select Accounts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{className:"text-sm text-foreground",children:"Pay from"}),e.jsxs(s,{value:r.account||void 0,onValueChange:a=>d("account",a),children:[e.jsx(s.Trigger,{className:"h-10",children:e.jsx(s.Value,{placeholder:"Select an account"})}),e.jsxs(s.Content,{children:[e.jsx(s.Item,{value:"medical-fsa",children:"Medical FSA"}),e.jsx(s.Item,{value:"dependent-care-fsa",children:"Dependent Care FSA"}),e.jsx(s.Item,{value:"hsa",children:"HSA"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{className:"text-sm text-foreground",children:"Pay to"}),e.jsxs(s,{value:r.category||void 0,onValueChange:a=>d("category",a),children:[e.jsx(s.Trigger,{className:"h-10",children:e.jsx(s.Value,{placeholder:"Select recipient"})}),e.jsxs(s.Content,{children:[e.jsx(s.Item,{value:"me",children:"Me"}),e.jsx(s.Item,{value:"provider",children:"Provider"}),e.jsx(s.Item,{value:"dependent",children:"Dependent"})]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on your selection, you will be requesting a Claim Reimbursement."})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx(u,{variant:"ghost",onClick:()=>F("/"),children:"Cancel"}),e.jsx(u,{intent:"primary",onClick:()=>{N({variant:"mvp"}),F("/reimburse/docs")},children:"Next"})]})]})]})})]}),Q=()=>{const o=r.account.includes("fsa")&&!I,l=g||I||A,m=t=>L.has(t);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2",children:e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reimburse Myself"})}),P&&e.jsxs(j,{intent:"success",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx(j.Title,{children:"Reimbursement submitted"}),e.jsx(j.Description,{children:"We've queued your reimbursement. You can track it from Claims or return home to continue browsing."})]}),q&&e.jsxs(j,{intent:"info",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx(j.Title,{children:"Form auto-filled"}),e.jsx(j.Description,{children:"We extracted details from your receipt. Review and adjust as needed."})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx(c,{className:"lg:col-span-2",children:e.jsx("form",{onSubmit:G,children:e.jsxs(c.Content,{className:"space-y-6 p-6",children:[!l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"text-lg font-semibold text-foreground",children:"Upload receipt"}),e.jsxs(n,{children:[e.jsx(n.Trigger,{asChild:!0,children:e.jsx(f,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),e.jsx(n.Content,{children:e.jsx("p",{className:"text-sm",children:"Upload itemized receipt or EOB. We'll extract details automatically."})})]})]}),e.jsx("div",{className:"relative rounded-xl border-2 border-dashed border-primary/30 bg-gradient-to-br from-primary/5 to-muted/50 p-16 transition-all hover:border-primary/50 hover:shadow-md cursor-pointer",onDragOver:t=>{t.preventDefault(),t.stopPropagation()},onDrop:t=>{t.preventDefault(),t.stopPropagation();const p=t.dataTransfer.files[0];p&&H(p)},onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*,.pdf",t.onchange=p=>{const C=p.target.files?.[0];C&&H(C)},t.click()},children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 text-center",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10 shadow-sm",children:e.jsx(re,{className:"h-10 w-10 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-semibold text-foreground",children:"Click or drag to upload"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"PDF, JPG, or PNG up to 10MB"})]})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Don't have a receipt?"}),e.jsx(u,{type:"button",intent:"primary",variant:"link",className:"h-auto p-0 text-sm",onClick:J,children:"Enter manually"}),o&&e.jsxs(n,{children:[e.jsx(n.Trigger,{asChild:!0,children:e.jsx(f,{className:"h-3.5 w-3.5 text-warning"})}),e.jsx(n.Content,{children:e.jsx("p",{className:"text-sm",children:"Receipt required for FSA accounts"})})]})]})]}),g&&e.jsx("div",{className:"space-y-3",children:A?e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border-2 border-primary/20 bg-primary/5 p-4",children:[e.jsx(te,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Analyzing receipt..."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Extracting details from your document"})]})]}):e.jsxs("div",{className:"flex items-center justify-between rounded-lg border-2 border-success/20 bg-success/5 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-success/10",children:e.jsx(w,{className:"h-5 w-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:g.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:g.size})]})]}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:K,className:"h-8 w-8",children:e.jsx(ee,{className:"h-4 w-4"})})]})}),l&&e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"transition-opacity"}),e.jsxs("div",{className:"rounded-lg border bg-muted/30 p-6 space-y-6 transition-all",children:[I&&e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(x,{className:"text-sm font-medium text-foreground",children:"Manual entry"})]}),g&&!A&&e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(w,{className:"h-4 w-4 text-primary"}),e.jsx(x,{className:"text-sm font-medium text-foreground",children:"Review and adjust"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{htmlFor:"vision-account",className:"text-sm font-medium",children:["Account",m("account")&&e.jsx(v,{intent:"info",className:"ml-2 text-xs",children:"AI-filled"})]}),e.jsxs(n,{children:[e.jsx(n.Trigger,{asChild:!0,children:e.jsx(f,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),e.jsx(n.Content,{children:e.jsx("p",{className:"text-sm",children:"Select the account to reimburse from"})})]})]}),e.jsxs(s,{value:r.account,onValueChange:t=>d("account",t),children:[e.jsx(s.Trigger,{id:"vision-account",children:e.jsx(s.Value,{placeholder:"Select account"})}),e.jsxs(s.Content,{children:[e.jsx(s.Item,{value:"hsa",children:"Health Savings Account (HSA)"}),e.jsx(s.Item,{value:"healthcare-fsa",children:"Healthcare FSA"}),e.jsx(s.Item,{value:"dependent-care-fsa",children:"Dependent Care FSA"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{htmlFor:"vision-category",className:"text-sm font-medium",children:["Expense type",m("category")&&e.jsx(v,{intent:"info",className:"ml-2 text-xs",children:"AI-filled"})]}),e.jsxs(n,{children:[e.jsx(n.Trigger,{asChild:!0,children:e.jsx(f,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),e.jsx(n.Content,{children:e.jsx("p",{className:"text-sm",children:"Category of the expense"})})]})]}),e.jsxs(s,{value:r.category,onValueChange:t=>d("category",t),children:[e.jsx(s.Trigger,{id:"vision-category",children:e.jsx(s.Value,{placeholder:"Select category"})}),e.jsxs(s.Content,{children:[e.jsx(s.Item,{value:"medical",children:"Medical"}),e.jsx(s.Item,{value:"vision",children:"Vision"}),e.jsx(s.Item,{value:"dental",children:"Dental"}),e.jsx(s.Item,{value:"dependent-care",children:"Dependent Care"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[m("provider")&&e.jsx(v,{intent:"info",className:"text-xs mb-1",children:"AI-filled"}),e.jsx(T,{label:"Provider / Merchant",type:"text",value:r.provider,onChange:t=>d("provider",t.target.value),leftIcon:e.jsx(z,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[m("serviceDate")&&e.jsx(v,{intent:"info",className:"text-xs mb-1",children:"AI-filled"}),e.jsx(T,{label:"Date of service",type:"date",value:r.serviceDate,onChange:t=>d("serviceDate",t.target.value),leftIcon:e.jsx(ne,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[m("amount")&&e.jsx(v,{intent:"info",className:"text-xs mb-1",children:"AI-filled"}),e.jsx(T,{label:"Amount",type:"number",step:"0.01",value:r.amount,onChange:t=>d("amount",t.target.value),leftIcon:e.jsx(ie,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{htmlFor:"vision-payment",className:"text-sm font-medium",children:"Reimburse to"}),e.jsxs(n,{children:[e.jsx(n.Trigger,{asChild:!0,children:e.jsx(f,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),e.jsx(n.Content,{children:e.jsx("p",{className:"text-sm",children:"Direct deposit is fastest (2-3 days)"})})]})]}),e.jsxs(s,{value:r.paymentMethod,onValueChange:t=>d("paymentMethod",t),children:[e.jsx(s.Trigger,{id:"vision-payment",children:e.jsx(s.Value,{placeholder:"Select method"})}),e.jsxs(s.Content,{children:[e.jsx(s.Item,{value:"direct-deposit",children:"Direct deposit"}),e.jsx(s.Item,{value:"check",children:"Mailed check"}),e.jsx(s.Item,{value:"hsa-card-reversal",children:"HSA card reversal"})]})]})]})]}),e.jsx(S,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{type:"button",variant:"ghost",onClick:()=>$(!D),children:D?"Hide help":"Need help?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(u,{type:"button",variant:"ghost",onClick:()=>F("/"),children:"Cancel"}),e.jsx(u,{type:"submit",intent:"primary",disabled:W,children:W?"Submitting...":"Submit"})]})]}),D&&e.jsx(c,{className:"border-primary/20 bg-primary/5",children:e.jsxs(c.Content,{className:"p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"What documents are required?"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Itemized receipt or EOB with provider, patient, date, and amount."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"When will I get reimbursed?"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Direct deposit: 2-3 business days. Check: 7-10 business days."})]})]})})]})]})})}),e.jsxs(c,{children:[e.jsx(c.Header,{children:e.jsx(c.Title,{className:"text-base",children:"Summary"})}),e.jsxs(c.Content,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Account"}),e.jsx("span",{className:"text-sm font-medium",children:l&&r.account?X(r.account):"—"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("span",{className:"text-sm font-medium",children:l&&r.serviceDate?(()=>{const[t,p,C]=r.serviceDate.split("-");return`${p}/${C}/${t}`})():"—"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount"}),e.jsx("span",{className:"text-base font-semibold text-foreground",children:l&&r.amount?O:"$0.00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Method"}),e.jsx("span",{className:"text-sm font-medium",children:l&&r.paymentMethod?r.paymentMethod==="direct-deposit"?"Direct deposit":r.paymentMethod==="check"?"Check":r.paymentMethod==="hsa-card-reversal"?"HSA reversal":"—":"—"})]}),e.jsx(S,{}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(le,{className:"h-3.5 w-3.5 text-success"}),e.jsx("span",{children:"Smart checks enabled"})]})]})]})]})]})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-[#F1FAFE]",children:[e.jsx(se,{}),e.jsx("div",{className:"mx-auto max-w-[1440px] px-8 py-8",children:e.jsx("div",{className:"mx-auto max-w-[1376px] space-y-8",children:V==="mvp"?Y():Q()})})]}),e.jsx("div",{className:"pointer-events-none fixed bottom-6 right-6 z-40",children:e.jsx("div",{className:"pointer-events-auto overflow-hidden rounded-full border bg-card shadow-lg shadow-foreground/10",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-muted-foreground",children:[e.jsx(ae,{className:"h-3.5 w-3.5 text-primary"}),"Mode"]}),e.jsxs(s,{value:V,onValueChange:a=>{const o=a;U(o),N({variant:o})},children:[e.jsx(s.Trigger,{className:"h-8 w-32 border-none px-2",children:e.jsx(s.Value,{})}),e.jsxs(s.Content,{align:"end",children:[e.jsx(s.Item,{value:"mvp",children:"MVP"}),e.jsx(s.Item,{value:"vision",children:"Vision"})]})]})]})})})]})}export{Ce as default};
